#
summon minecraft:item ~ ~1 ~ {Item:{id:"minecraft:paper", Count:1b}, PickupDelay:-1, Tags:["ps_sell"]}

#
execute as @e[type=minecraft:item,tag=ps_sell] at @s store result score @s ps_id run data get entity @s UUID[0]

#
execute as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] run scoreboard players operation @s ps_id = @p ps_id

#
execute as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run tp @s @p

#
execute if score @s ps_view_pg matches 1 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[0].id
execute if score @s ps_view_pg matches 2 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[1].id
execute if score @s ps_view_pg matches 3 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[2].id
execute if score @s ps_view_pg matches 4 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[3].id
execute if score @s ps_view_pg matches 5 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[4].id
execute if score @s ps_view_pg matches 6 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[5].id
execute if score @s ps_view_pg matches 7 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[6].id
execute if score @s ps_view_pg matches 8 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[7].id
execute if score @s ps_view_pg matches 9 as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.id set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[8].id

#
execute if score @s ps_view_pg matches 1 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:9b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[0].tag
execute if score @s ps_view_pg matches 2 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:10b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[1].tag
execute if score @s ps_view_pg matches 3 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:11b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[2].tag
execute if score @s ps_view_pg matches 4 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:12b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[3].tag
execute if score @s ps_view_pg matches 5 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:13b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[4].tag
execute if score @s ps_view_pg matches 6 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:14b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[5].tag
execute if score @s ps_view_pg matches 7 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:15b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[6].tag
execute if score @s ps_view_pg matches 8 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:16b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[7].tag
execute if score @s ps_view_pg matches 9 as @e[type=minecraft:marker,tag=ps_shop] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if data block ~ ~ ~ Items[{Slot:17b}].tag as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s Item.tag set from entity @e[type=minecraft:marker,tag=ps_shop,sort=nearest,distance=0..2,limit=1] data.ps_sell[8].tag


#
execute as @e[type=minecraft:item,tag=ps_sell] at @s if entity @p[distance=0..2,scores={ps_distance=0..2}] if score @s ps_id = @p[distance=0..2,scores={ps_distance=0..2}] ps_id run data modify entity @s PickupDelay set value 0